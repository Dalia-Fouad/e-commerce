import{a as M}from"./chunk-OGPXQLBF.js";import{a as A,b as g,c as G,d as D,e as V,f as v,h as k,i as L,j as $,m as j}from"./chunk-Z6CYM7GD.js";import{g as P}from"./chunk-QD6CZ7NI.js";import{$ as R,Ab as a,Bb as T,Hb as N,Kb as x,Ma as m,Y as y,bb as u,db as E,hb as p,hc as q,lb as n,mb as i,nb as _,sb as b,tb as F}from"./chunk-7M6V4D3V.js";var I=(e,r)=>({"is-valid":e,"is-invalid":r});function z(e,r){e&1&&(n(0,"p",16),a(1,"Name is required"),i())}function B(e,r){e&1&&(n(0,"p",16),a(1,"Name Should be more than or equal 3 chars"),i())}function H(e,r){e&1&&(n(0,"p",16),a(1,"Name Should be less than or equal 20 chars"),i())}function J(e,r){if(e&1&&(n(0,"div",5),u(1,z,2,0,"p",16)(2,B,2,0)(3,H,2,0),i()),e&2){let l,o=F();m(),p(1,(l=o.registerForm.get("name"))!=null&&l.getError("required")?1:(l=o.registerForm.get("name"))!=null&&l.getError("minlength")?2:(l=o.registerForm.get("name"))!=null&&l.getError("maxlength")?3:-1)}}function K(e,r){e&1&&(n(0,"p",16),a(1,"email is required"),i())}function O(e,r){e&1&&(n(0,"p",16),a(1,"Enter Valid Email "),i())}function Q(e,r){if(e&1&&(n(0,"div",5),u(1,K,2,0,"p",16)(2,O,2,0),i()),e&2){let l,o=F();m(),p(1,(l=o.registerForm.get("email"))!=null&&l.getError("required")?1:(l=o.registerForm.get("email"))!=null&&l.getError("email")?2:-1)}}function U(e,r){e&1&&(n(0,"p",16),a(1,"password is required"),i())}function W(e,r){e&1&&(n(0,"p",16),a(1,"must be at least 6 chars"),i())}function X(e,r){if(e&1&&(n(0,"div",5),u(1,U,2,0,"p",16)(2,W,2,0),i()),e&2){let l,o=F();m(),p(1,(l=o.registerForm.get("password"))!=null&&l.getError("required")?1:(l=o.registerForm.get("password"))!=null&&l.getError("pattern")?2:-1)}}function Y(e,r){e&1&&(n(0,"div",5)(1,"p",16),a(2,"Password confirmation is incorrect"),i()())}function Z(e,r){e&1&&(n(0,"p",16),a(1,"phone is required"),i())}function ee(e,r){e&1&&(n(0,"p",16),a(1,"accept only egypt phone numbers "),i())}function te(e,r){if(e&1&&(n(0,"div",5),u(1,Z,2,0,"p",16)(2,ee,2,0),i()),e&2){let l,o=F();m(),p(1,(l=o.registerForm.get("phone"))!=null&&l.getError("required")?1:(l=o.registerForm.get("phone"))!=null&&l.getError("pattern")?2:-1)}}function ie(e,r){e&1&&(n(0,"span"),_(1,"i",17),i())}function ne(e,r){if(e&1&&(n(0,"div",15),a(1),i()),e&2){let l=F();m(),T(l.errorMessage)}}var pe=(()=>{let r=class r{constructor(){this._AuthService=y(M),this._Router=y(P),this.isloading=!1,this.errorMessage="",this.registerForm=new V({name:new v(null,[g.required,g.minLength(3),g.maxLength(20)]),email:new v(null,[g.required,g.email]),password:new v(null,[g.required,g.pattern(/^\w{6,}$/)]),rePassword:new v(null),phone:new v(null,[g.required,g.pattern(/^01[0125][0-9]{8}$/)])},this.confermPassword)}regiterSubmit(){this.registerForm.valid?(this.isloading=!0,this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:o=>{console.log(o),this.isloading=!1,this.errorMessage="",this._Router.navigate(["/login"])},error:o=>{console.log(o.error.message),this.errorMessage=o.error.message,this.isloading=!1}})):this.registerForm.markAllAsTouched(),console.log(this.registerForm.value)}confermPassword(o){return o.get("rePassword")?.value===o.get("password")?.value&&o.get("rePassword")?.value!=null?null:{mismatch:!0}}};r.\u0275fac=function(w){return new(w||r)},r.\u0275cmp=R({type:r,selectors:[["app-register"]],standalone:!0,features:[N],decls:33,vars:17,consts:[[1,"w-75","mx-auto","my-5"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-100","mt-1"],["for","email"],["type","text","id","email","formControlName","email",1,"form-control",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","rePassword"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control"],["type","submit",1,"btn-main","d-block","ms-auto","my-2",3,"disabled"],[1,"alert","alert-danger","w-50"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(w,t){if(w&1&&(n(0,"section",0)(1,"h3"),a(2,"Register Now :"),i(),n(3,"form",1),b("ngSubmit",function(){return t.regiterSubmit()}),n(4,"div",2)(5,"label",3),a(6,"name:"),i(),_(7,"input",4),u(8,J,4,1,"div",5),i(),n(9,"div",2)(10,"label",6),a(11,"email:"),i(),_(12,"input",7),u(13,Q,3,1,"div",5),i(),n(14,"div",2)(15,"label",8),a(16,"password:"),i(),_(17,"input",9),u(18,X,3,1,"div",5),i(),n(19,"div",2)(20,"label",10),a(21,"rePassword:"),i(),_(22,"input",11),u(23,Y,3,0,"div",5),i(),n(24,"div",2)(25,"label",12),a(26,"phone:"),i(),_(27,"input",13),u(28,te,3,1,"div",5),i(),n(29,"button",14),a(30,"Register "),u(31,ie,2,0,"span"),i(),u(32,ne,2,1,"div",15),i()()),w&2){let s,c,d,f,C,S,h;m(3),E("formGroup",t.registerForm),m(4),E("ngClass",x(11,I,!((s=t.registerForm.get("name"))!=null&&s.errors)&&(((s=t.registerForm.get("name"))==null?null:s.touched)||((s=t.registerForm.get("name"))==null?null:s.dirty)),((s=t.registerForm.get("name"))==null?null:s.errors)&&(((s=t.registerForm.get("name"))==null?null:s.touched)||((s=t.registerForm.get("name"))==null?null:s.dirty)))),m(),p(8,(c=t.registerForm.get("name"))!=null&&c.errors&&((c=t.registerForm.get("name"))!=null&&c.touched||(c=t.registerForm.get("name"))!=null&&c.dirty)?8:-1),m(4),E("ngClass",x(14,I,!((d=t.registerForm.get("email"))!=null&&d.errors)&&(((d=t.registerForm.get("email"))==null?null:d.touched)||((d=t.registerForm.get("email"))==null?null:d.dirty)),((d=t.registerForm.get("email"))==null?null:d.errors)&&(((d=t.registerForm.get("email"))==null?null:d.touched)||((d=t.registerForm.get("email"))==null?null:d.dirty)))),m(),p(13,(f=t.registerForm.get("email"))!=null&&f.errors&&((f=t.registerForm.get("email"))!=null&&f.touched||(f=t.registerForm.get("email"))!=null&&f.dirty)?13:-1),m(5),p(18,(C=t.registerForm.get("password"))!=null&&C.errors&&((C=t.registerForm.get("password"))!=null&&C.touched||(C=t.registerForm.get("password"))!=null&&C.dirty)?18:-1),m(5),p(23,t.registerForm.getError("mismatch")&&((S=t.registerForm.get("rePassword"))!=null&&S.touched||(S=t.registerForm.get("rePassword"))!=null&&S.dirty)?23:-1),m(5),p(28,(h=t.registerForm.get("phone"))!=null&&h.errors&&((h=t.registerForm.get("phone"))!=null&&h.touched||(h=t.registerForm.get("phone"))!=null&&h.dirty)?28:-1),m(),E("disabled",t.isloading),m(2),p(31,t.isloading?31:-1),m(),p(32,t.errorMessage?32:-1)}},dependencies:[j,k,A,G,D,L,$,q]});let e=r;return e})();export{pe as RegisterComponent};
